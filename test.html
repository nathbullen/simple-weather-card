<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Weather Card Test</title>
    <script type="module" src="./simple-weather-card-bundle.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f0f0f0;
        }
        .test-container {
            max-width: 400px;
            margin: 20px auto;
        }
    </style>
</head>
<body>
    <h1>Simple Weather Card Test</h1>
    <div class="test-container">
        <simple-weather-card id="weather-card"></simple-weather-card>
    </div>

    <script>
        // Mock Home Assistant data for testing
        const mockHass = {
            states: {
                'weather.home': {
                    entity_id: 'weather.home',
                    state: 'sunny',
                    attributes: {
                        friendly_name: 'Home Weather',
                        temperature: 22,
                        humidity: 65,
                        pressure: 1013,
                        wind_speed: 5,
                        wind_bearing: 180,
                        forecast: [{
                            temperature: 25,
                            templow: 15,
                            precipitation: 0,
                            precipitation_probability: 10
                        }]
                    }
                },
                'sun.sun': {
                    state: 'above_horizon'
                }
            },
            config: {
                unit_system: {
                    temperature: 'Â°C',
                    length: 'km',
                    speed: 'km/h'
                }
            },
            selectedLanguage: 'en',
            language: 'en',
            resources: {
                en: {
                    'component.weather.state._.sunny': 'Sunny',
                    'state.default.unknown': 'Unknown'
                }
            },
            connection: {
                haVersion: '2024.1.0'
            }
        };

        // Configure the card
        const card = document.getElementById('weather-card');
        card.setConfig({
            entity: 'weather.home',
            name: 'Test Weather',
            primary_info: ['extrema'],
            secondary_info: ['precipitation', 'humidity'],
            backdrop: {
                day: '#45aaf2',
                night: '#a55eea',
                text: '#ffffff',
                fade: false
            }
        });

        // Set the hass property to trigger rendering
        card.hass = mockHass;
    </script>
</body>
</html>
